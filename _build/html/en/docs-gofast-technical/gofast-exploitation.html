

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GoFAST : Exploitation &mdash; gofast-docs latest documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'latest',
              LANGUAGE:'en_US',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GoFAST : Problèmes connus" href="../docs-gofast-users/doc-gofast-problemes-connus.html" />
    <link rel="prev" title="GoFAST Community : Installation" href="gofast-community-install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gofast-docs
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation Technique GoFAST</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gofast-docs-prerequis-installation-serveur.html">GoFAST :  Pré-requis et installation Serveur</a></li>
<li class="toctree-l1"><a class="reference internal" href="gofast-community-install.html">GoFAST Community :  Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GoFAST : Exploitation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vm-1">VM 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#demarrage">Démarrage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processus">Processus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#php-fpm">PHP-FPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serveur-web-apache">Serveur Web Apache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serveurs-web-tomcat">Serveurs Web Tomcat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#base-de-donnees-mysql">Base de données MySQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#moteur-de-recherche-solr">Moteur de recherche Solr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serveur-ldap">Serveur LDAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#composant-de-previsualisation-de-documents-libreoffice">Composant de prévisualisation de documents (LibreOffice)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notifications-par-email">Notifications par email</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cron">Cron</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logs">Logs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vm-2">VM 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Démarrage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Processus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reverse-proxy-nginx">Reverse proxy nginx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rabbitmq">RabbitMQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edition-collaborative">Edition collaborative</a></li>
<li class="toctree-l4"><a class="reference internal" href="#messagerie-instantanee">Messagerie instantanée</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visioconference">Visioconférence</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supervisor">Supervisor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Logs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supervision">Supervision</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#monitoring-du-serveur">Monitoring du serveur</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#securisation-des-donnees-sauvegarde-dr">Sécurisation des données (sauvegarde, DR,…)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sauvegarde-par-snapshot-de-vm">Sauvegarde par snapshot de VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sauvegarde-des-donnees-applicatives">Sauvegarde des données applicatives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#annexe-i-arborescence-gofast-vm1">ANNEXE I : Arborescence GoFAST (VM1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#annexe-ii-sauvegarde-par-vacations-des-donnees-sur-un-serveur-distant-disaster-recovery-minimal">ANNEXE II: Sauvegarde par vacations des données sur un serveur distant (Disaster Recovery « Minimal»)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#annexe-iii-duplication-distante-des-fichiers">ANNEXE III : Duplication distante des fichiers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docs-gofast-users/doc-gofast-problemes-connus.html">GoFAST : Problèmes connus</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation Utilisateurs GoFAST</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs-gofast-users/doc-gofast-guide-utilisateurs.html">GoFAST : Guide Utilisateurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs-gofast-users/doc-gofast-utilisation-avancee.html">GoFAST : Utilisation Avancée</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs-gofast-users/doc-gofast-administration-plateforme.html">GoFAST : Administration</a></li>
</ul>
<p class="caption"><span class="caption-text">Releases GoFAST</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.2.0.html">GoFAST :  Version 3.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.2.1.html">GoFAST :  Version 3.2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.2.2.html">GoFAST :  Version 3.2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.3.0.html">GoFAST :  Version 3.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.3.1.html">GoFAST :  Version 3.3.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.4.0.html">GoFAST :  Version 3.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.4.1.html">GoFAST :  Version 3.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.5.0.html">GoFAST :  Version 3.5.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.5.1.html">GoFAST :  Version 3.5.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.5.2.html">GoFAST :  Version 3.5.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes-3.6.0.html">GoFAST :  Version 3.6.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Ressources développeur GoFAST</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs-gofast-development/api-rest.html">GoFAST :  API REST</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gofast-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>GoFAST : Exploitation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/docs-gofast-technical/gofast-exploitation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gofast-exploitation">
<h1><a class="toc-backref" href="#id4">GoFAST : Exploitation</a><a class="headerlink" href="#gofast-exploitation" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>V1.0</td>
<td><ul class="first last simple">
<li>Version initiale</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>V1.1</td>
<td><ul class="first last simple">
<li>Ajout d’une partie détaillée sur les sauvegardes</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>V1.2</td>
<td><ul class="first last simple">
<li>Ajout de la structure des répertoires (annexe 1)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Pour rappel l’abonnement GoFAST comprend la supervision et le management de la couche applicative dans son ensemble. Ce guide est à destination de l’infogérent ou du client qui souhaite <em>comprendre</em> l’exploitation de GoFAST mais en aucun cas effectuer des actions sans aval de CEO-Vision</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#gofast-exploitation" id="id4">GoFAST : Exploitation</a><ul>
<li><a class="reference internal" href="#vm-1" id="id5">VM 1</a><ul>
<li><a class="reference internal" href="#demarrage" id="id6">Démarrage</a></li>
<li><a class="reference internal" href="#processus" id="id7">Processus</a><ul>
<li><a class="reference internal" href="#php-fpm" id="id8">PHP-FPM</a></li>
<li><a class="reference internal" href="#serveur-web-apache" id="id9">Serveur Web Apache</a></li>
<li><a class="reference internal" href="#serveurs-web-tomcat" id="id10">Serveurs Web Tomcat</a></li>
<li><a class="reference internal" href="#base-de-donnees-mysql" id="id11">Base de données MySQL</a></li>
<li><a class="reference internal" href="#moteur-de-recherche-solr" id="id12">Moteur de recherche Solr</a></li>
<li><a class="reference internal" href="#serveur-ldap" id="id13">Serveur LDAP</a></li>
<li><a class="reference internal" href="#composant-de-previsualisation-de-documents-libreoffice" id="id14">Composant de prévisualisation de documents (LibreOffice)</a></li>
<li><a class="reference internal" href="#notifications-par-email" id="id15">Notifications par email</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cron" id="id16">Cron</a></li>
<li><a class="reference internal" href="#logs" id="id17">Logs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vm-2" id="id18">VM 2</a><ul>
<li><a class="reference internal" href="#id1" id="id19">Démarrage</a></li>
<li><a class="reference internal" href="#id2" id="id20">Processus</a><ul>
<li><a class="reference internal" href="#reverse-proxy-nginx" id="id21">Reverse proxy nginx</a></li>
<li><a class="reference internal" href="#rabbitmq" id="id22">RabbitMQ</a></li>
<li><a class="reference internal" href="#edition-collaborative" id="id23">Edition collaborative</a></li>
<li><a class="reference internal" href="#messagerie-instantanee" id="id24">Messagerie instantanée</a></li>
<li><a class="reference internal" href="#visioconference" id="id25">Visioconférence</a></li>
<li><a class="reference internal" href="#supervisor" id="id26">Supervisor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3" id="id27">Logs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#supervision" id="id28">Supervision</a><ul>
<li><a class="reference internal" href="#monitoring-du-serveur" id="id29">Monitoring du serveur</a></li>
</ul>
</li>
<li><a class="reference internal" href="#securisation-des-donnees-sauvegarde-dr" id="id30">Sécurisation des données (sauvegarde, DR,…)</a><ul>
<li><a class="reference internal" href="#sauvegarde-par-snapshot-de-vm" id="id31">Sauvegarde par snapshot de VM</a></li>
<li><a class="reference internal" href="#sauvegarde-des-donnees-applicatives" id="id32">Sauvegarde des données applicatives</a></li>
</ul>
</li>
<li><a class="reference internal" href="#annexe-i-arborescence-gofast-vm1" id="id33">ANNEXE I : Arborescence GoFAST (VM1)</a></li>
<li><a class="reference internal" href="#annexe-ii-sauvegarde-par-vacations-des-donnees-sur-un-serveur-distant-disaster-recovery-minimal" id="id34">ANNEXE II: Sauvegarde par vacations des données sur un serveur distant (Disaster Recovery « Minimal»)</a></li>
<li><a class="reference internal" href="#annexe-iii-duplication-distante-des-fichiers" id="id35">ANNEXE III : Duplication distante des fichiers</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="vm-1">
<h2><a class="toc-backref" href="#id5">VM 1</a><a class="headerlink" href="#vm-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="demarrage">
<h3><a class="toc-backref" href="#id6">Démarrage</a><a class="headerlink" href="#demarrage" title="Permalink to this headline">¶</a></h3>
<p>Les composants sont démarrés soit par service soit par un script <code class="docutils literal"><span class="pre">/opt/ceo-vision/startup.sh</span></code>. Les composants lancés par le script sont les suivants:</p>
<ul class="simple">
<li>LibreOffice</li>
<li>Alfresco</li>
<li>Bonita</li>
<li>Solr</li>
</ul>
<p>Les services démarrés au boot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@gofast3</span><span class="o">-</span><span class="n">integration</span> <span class="o">~</span><span class="p">]</span><span class="c1"># systemctl list-unit-files --state=enabled</span>
<span class="n">UNIT</span> <span class="n">FILE</span>                                 <span class="n">STATE</span>
<span class="n">auditd</span><span class="o">.</span><span class="n">service</span>                            <span class="n">enabled</span>
<span class="n">chronyd</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">crond</span><span class="o">.</span><span class="n">service</span>                             <span class="n">enabled</span>
<span class="n">dbus</span><span class="o">-</span><span class="n">org</span><span class="o">.</span><span class="n">fedoraproject</span><span class="o">.</span><span class="n">FirewallD1</span><span class="o">.</span><span class="n">service</span> <span class="n">enabled</span>
<span class="n">firewalld</span><span class="o">.</span><span class="n">service</span>                         <span class="n">enabled</span>
<span class="n">getty</span><span class="o">@.</span><span class="n">service</span>                            <span class="n">enabled</span>
<span class="n">httpd</span><span class="o">.</span><span class="n">service</span>                             <span class="n">enabled</span>
<span class="n">irqbalance</span><span class="o">.</span><span class="n">service</span>                        <span class="n">enabled</span>
<span class="n">microcode</span><span class="o">.</span><span class="n">service</span>                         <span class="n">enabled</span>
<span class="n">mysqld</span><span class="o">.</span><span class="n">service</span>                            <span class="n">enabled</span>
<span class="n">ntpdate</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">php</span><span class="o">-</span><span class="n">fpm</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">postfix</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">rsyslog</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">slapd</span><span class="o">.</span><span class="n">service</span>                             <span class="n">enabled</span>
<span class="n">sshd</span><span class="o">.</span><span class="n">service</span>                              <span class="n">enabled</span>
<span class="n">sysstat</span><span class="o">.</span><span class="n">service</span>                           <span class="n">enabled</span>
<span class="n">systemd</span><span class="o">-</span><span class="n">readahead</span><span class="o">-</span><span class="n">collect</span><span class="o">.</span><span class="n">service</span>         <span class="n">enabled</span>
<span class="n">systemd</span><span class="o">-</span><span class="n">readahead</span><span class="o">-</span><span class="n">drop</span><span class="o">.</span><span class="n">service</span>            <span class="n">enabled</span>
<span class="n">systemd</span><span class="o">-</span><span class="n">readahead</span><span class="o">-</span><span class="n">replay</span><span class="o">.</span><span class="n">service</span>          <span class="n">enabled</span>
<span class="n">tomcat</span><span class="nd">@alfresco</span><span class="o">.</span><span class="n">service</span>                   <span class="n">enabled</span>
<span class="n">tomcat</span><span class="nd">@bonita</span><span class="o">.</span><span class="n">service</span>                     <span class="n">enabled</span>
<span class="n">tuned</span><span class="o">.</span><span class="n">service</span>                             <span class="n">enabled</span>
<span class="n">rpcbind</span><span class="o">.</span><span class="n">socket</span>                            <span class="n">enabled</span>
<span class="n">default</span><span class="o">.</span><span class="n">target</span>                            <span class="n">enabled</span>
<span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span>                         <span class="n">enabled</span>
<span class="n">nfs</span><span class="o">-</span><span class="n">client</span><span class="o">.</span><span class="n">target</span>                         <span class="n">enabled</span>
<span class="n">remote</span><span class="o">-</span><span class="n">fs</span><span class="o">.</span><span class="n">target</span>                          <span class="n">enabled</span>

<span class="mi">28</span> <span class="n">unit</span> <span class="n">files</span> <span class="n">listed</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="processus">
<h3><a class="toc-backref" href="#id7">Processus</a><a class="headerlink" href="#processus" title="Permalink to this headline">¶</a></h3>
<p>La plateforme GoFAST est un ensemble technologique dont les principaux
composants sont les suivants:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span> [root@gofast ~]# htop
  Mem[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||11.0G/11.6G] Tasks: 94, 386 thr, 100 kthr; 1 running
  Swp[||||||||||||||||||||||||||||||||||||||                                       1.63G/3.87G] Load average: 1.29 0.94 0.55
                                                                                            Uptime: 123 days(!), 01:52:21
  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command
    1 root       20   0  189M  3016  1476 S  0.0  0.0  1h26:52 /usr/lib/systemd/systemd --switched-root --system --deserialize 21
31997 root       20   0 6642M  947M    76 S  0.7  8.0  1h56:44 ├+ java -server -Xms1G -Xmx1G -XX:NewRatio=3 -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=8 -XX:+Us
30805 root       20   0  183M     0     0 S  0.0  0.0  0:01.07 ├+ /usr/bin/newrelic-daemon --agent --pidfile /var/run/newrelic-daemon.pid --logfile /var/log/newrelic/newrelic-daemon.log --p
30797 root       20   0  488M 13692  8040 S  0.0  0.1  1:45.00 ├+ php-fpm: master process (/etc/php-fpm.conf)
29617 davfs2     20   0  184M  6700   460 S  0.0  0.1 11:08.05 ├─ mount.davfs -o rw uid=admin localhost:8080/alfresco/webdav /mnt/alfresco_webdav/
27323 root       20   0  288M   216   204 S  0.0  0.0  0:03.93 ├+ /opt/libreoffice5.3/program/oosplash --accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -env:UserInstal
20621 ldap       20   0 1648M  114M  9912 S 13.3  1.0  7h33:29 ├+ /usr/sbin/slapd -u ldap -h ldapi:/// ldaps:/// ldap:///
16905 root       20   0  249M  2524   672 S  0.0  0.0  1:57.46 ├+ /usr/sbin/httpd -DFOREGROUND
16859 mysql      20   0 3820M 1514M  1392 S 15.3 12.8 12h00:35 ├+ /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid
15833 tomcat     20   0 9694M 3693M  1708 S 16.0 31.2  3h16:35 ├+ /usr/lib/jvm/jre/bin/java -server -Xss1024K -Xms2G -Xmx4G -XX:MaxPermSize=512M -XX:NewSize=1G -XX:-DisableExplicitGC -XX:+U
14933 tomcat     20   0 7889M 1082M  1868 S  0.7  9.1  1h06:36 ├+ /usr/lib/jvm/jre/bin/java -server -Xss1024K -Xms1G -Xmx3G -XX:MaxPermSize=512M -XX:NewSize=512m -XX:+UseConcMarkSweepGC -XX
14567 root       20   0  123M   420   312 S  0.0  0.0  2:23.65 ├+ /usr/sbin/crond -n
10356 chrony     20   0   98M   692   484 S  0.0  0.0  0:22.64 ├─ /usr/sbin/chronyd
 6389 newrelic   20   0 16896     4     0 S  0.0  0.0  0:00.00 ├+ /usr/sbin/nrsysmond -c /etc/newrelic/nrsysmond.cfg -p /var/run/newrelic/nrsysmond.pid
 2633 root       20   0 89892   168    84 S  0.0  0.0  9:33.71 ├+ /usr/libexec/postfix/master -w
 2521 memcached  20   0  626M  256M   108 S  0.0  2.2  9h21:36 ├+ /usr/bin/memcached -u memcached -p 11211 -m 512 -c 1024
 1027 root       20   0  540M   536   156 S  0.0  0.0 16:20.33 ├+ /usr/bin/python -Es /usr/sbin/tuned -l -P
 1025 root       20   0  103M   340   224 S  0.0  0.0 10:52.29 ├+ /usr/sbin/sshd -D
 1012 root       20   0  644M  7612  7016 S  0.0  0.1  3h18:30 ├+ /usr/sbin/rsyslogd -n
  741 root       20   0  427M  1380   636 S  0.0  0.0  8:06.11 ├+ /usr/sbin/NetworkManager --no-daemon
  726 root       20   0  323M  1732   612 S  0.0  0.0  7:58.52 ├+ /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid
  712 root       20   0  107M     8     4 S  0.0  0.0  0:00.01 ├─ /sbin/agetty --noclear tty1 linux
  703 root       20   0 24324   972   772 S  0.0  0.0 28:54.14 ├─ /usr/lib/systemd/systemd-logind
  696 dbus       20   0 98480   836   384 S  0.0  0.0 49:38.94 ├+ /bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation
  695 root       20   0  396M  2520  1144 S  0.0  0.0  2h13:27 ├+ /usr/bin/vmtoolsd
  693 root       20   0 19320   396   260 S  0.0  0.0 29:34.11 ├─ /usr/sbin/irqbalance --foreground
  685 polkitd    20   0  515M  1224   536 S  0.0  0.0 12:32.97 ├+ /usr/lib/polkit-1/polkitd --no-debug
  668 root       16  -4 55416   268   160 S  0.0  0.0  9:22.34 ├+ /sbin/auditd -n
  539 root       20   0 47372   368   268 S  0.0  0.0  0:02.01 ├─ /usr/lib/systemd/systemd-udevd
  533 root       20   0  198M     0     0 S  0.0  0.0  0:00.03 ├─ /usr/sbin/lvmetad -f
  511 root       20   0 46612  9692  9288 S  1.3  0.1  6h20:14 └─ /usr/lib/systemd/systemd-journald
    2 root       20   0     0     0     0 S  0.0  0.0  0:12.51 kthreadd
30429 root       20   0     0     0     0 D  0.7  0.0  0:01.43 ├─ kworker/u12:0
29534 root        0 -20     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/0:1H
29141 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/2:1
29139 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/u12:2
28808 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/1:2
28806 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/0:2
28263 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/3:0
27999 root       20   0     0     0     0 S  0.0  0.0  0:00.16 ├─ kworker/4:0
27003 root       20   0     0     0     0 S  0.0  0.0  0:00.00 ├─ kworker/3:1
</pre></div>
</div>
<p>A noter que l’ensemble de ces services sont configurés pour démarrer
automatiquement lors du boot du serveur. Pour cela la ligne <code class="docutils literal"><span class="pre">/opt/ceo-vision/startup.sh</span></code>
a été ajoutée dans le fichier <code class="docutils literal"><span class="pre">/etc/rc.local</span></code>.</p>
<div class="section" id="php-fpm">
<h4><a class="toc-backref" href="#id8">PHP-FPM</a><a class="headerlink" href="#php-fpm" title="Permalink to this headline">¶</a></h4>
<p>PHP-FPM - PHP FastCGI Process Manager est utilisé pour la communication entre un serveur web et PHP</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep php-fpm
apache    1767  0.3  1.8 629420 149660 ?       S    Aug17  31:00 php-fpm: pool www
apache   22586  0.2  1.3 613004 103984 ?       S    Aug22   6:41 php-fpm: pool www
apache   22614  0.2  1.1 599200 88228 ?        S    Aug22   6:48 php-fpm: pool www
apache   22615  0.2  1.3 613068 104980 ?       S    Aug22   6:40 php-fpm: pool www
apache   22627  0.2  1.2 610080 100572 ?       S    Aug22   6:33 php-fpm: pool www
apache   22628  0.2  1.3 617524 105540 ?       S    Aug22   6:22 php-fpm: pool www
apache   22629  0.2  1.3 616392 111448 ?       S    Aug22   6:31 php-fpm: pool www
apache   22630  0.2  1.2 609740 97352 ?        S    Aug22   6:22 php-fpm: pool www
apache   26294  0.3  1.5 612580 119868 ?       S    Aug21  15:51 php-fpm: pool www
apache   29923  0.3  2.0 639760 161928 ?       S    Aug16  39:37 php-fpm: pool www
root     31962  0.0  0.2 499364 20116 ?        Ss   Aug16   0:51 php-fpm: master process (/etc/php-fpm.conf)
apache   31973  0.3  1.9 629672 157408 ?       S    Aug16  39:23 php-fpm: pool www
apache   31974  0.3  2.0 637556 162912 ?       S    Aug16  40:08 php-fpm: pool www
apache   31975  0.3  1.9 633776 157328 ?       S    Aug16  41:29 php-fpm: pool www
apache   31976  0.3  1.8 635772 149040 ?       S    Aug16  39:07 php-fpm: pool www
apache   31977  0.3  1.8 631004 148060 ?       S    Aug16  38:53 php-fpm: pool www
apache   31978  0.3  2.0 633684 160404 ?       S    Aug16  41:02 php-fpm: pool www
apache   31979  0.3  1.9 628936 154268 ?       S    Aug16  39:25 php-fpm: pool www
apache   32069  0.3  1.8 627132 150484 ?       S    Aug16  40:25 php-fpm: pool www
apache   32071  0.3  2.0 639808 161776 ?       S    Aug16  40:48 php-fpm: pool www
apache   32092  0.3  2.0 637796 163692 ?       S    Aug16  41:13 php-fpm: pool www
apache   32136  0.3  2.0 637556 165724 ?       S    Aug16  40:36 php-fpm: pool www
apache   32137  0.3  2.0 641136 161816 ?       S    Aug16  40:52 php-fpm: pool www
apache   32139  0.3  2.1 647620 171280 ?       S    Aug16  38:53 php-fpm: pool www
</pre></div>
</div>
</div>
<div class="section" id="serveur-web-apache">
<h4><a class="toc-backref" href="#id9">Serveur Web Apache</a><a class="headerlink" href="#serveur-web-apache" title="Permalink to this headline">¶</a></h4>
<p>Afin que la partie «Portail » de GoFast, qui est basé sur une technologie
PHP et notamment le CMS Drupal, puisse fonctionner, il faut qu’elle soit
hébergée sur un serveur Apache.</p>
<p>En production, de nombreux processus sont créés afin de répondre à
chacune des requêtes http effectuées par les clients. Ces processus sont
nommés <code class="docutils literal"><span class="pre">/usr/sbin/httpd</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep httpd
apache    3452  0.0  0.2 581704 16880 ?        S    14:14   0:01 /usr/sbin/httpd -DFOREGROUND
apache    4229  0.0  0.2 581740 16820 ?        S    14:22   0:00 /usr/sbin/httpd -DFOREGROUND
apache    4261  0.0  0.2 581744 16812 ?        S    14:22   0:00 /usr/sbin/httpd -DFOREGROUND
apache    4414  0.0  0.2 581712 16876 ?        S    14:24   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5246  0.0  0.2 581668 16512 ?        S    14:35   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5247  0.0  0.2 581652 16572 ?        S    14:35   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5248  0.0  0.2 581772 16868 ?        S    14:35   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5351  0.0  0.2 581740 16620 ?        S    14:36   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5462  0.0  0.2 581712 16672 ?        S    14:38   0:00 /usr/sbin/httpd -DFOREGROUND
apache    5844  0.0  0.2 581712 16616 ?        S    14:44   0:00 /usr/sbin/httpd -DFOREGROUND
root     32021  0.0  0.2 580656 23384 ?        Ss   Aug16   1:11 /usr/sbin/httpd -DFOREGROUND
</pre></div>
</div>
</div>
<div class="section" id="serveurs-web-tomcat">
<h4><a class="toc-backref" href="#id10">Serveurs Web Tomcat</a><a class="headerlink" href="#serveurs-web-tomcat" title="Permalink to this headline">¶</a></h4>
<p>La partie «Entrepôt documentaire » est assurée par le logiciel Alfresco,
qui est une application développée en Java, ce qui nécessite un serveur
web Tomcat pour fonctionner.</p>
<p>De même la partie «Gestion de processus » est assurée par le logiciel
Bonitasoft, qui est une application développée en Java, ce qui nécessite
également un serveur web Tomcat pour fonctionner:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep tomcat
tomcat   23103 14.5 30.2 7071740 2410928 ?     Ssl  Aug22 211:52 /usr/lib/jvm/jre/bin/java -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -server -Xss1024K -Xms1G -Xmx3G -XX:MaxPermSize=512M -XX:NewSize=1G -XX:-DisableExplicitGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:CMSInitiatingOccupancyFraction=80 -XX:ParallelGCThreads=4 -XX:+UseParNewGC -Djavax.net.ssl.keyStore=/etc/pki/keystore -Djavax.net.ssl.keyStorePassword=a4030ma -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/var/lib/tomcats/alfresco -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/var/lib/tomcats/alfresco/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start
tomcat   23282  0.0  0.0 229540   864 ?        Sl   Aug22   0:00 /opt/libreoffice5.3/program/oosplash -accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -env:UserInstallation=file:///var/alfresco/alf_data/oouser -headless -nocrashreport -nofirststartwizard -nologo -norestore
tomcat   23297 99.9  0.3 709592 26972 ?        Sl   Aug22 1458:13 /opt/libreoffice5.3/program/soffice.bin -env:UserInstallation=file:///var/alfresco/alf_data/oouser -accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -headless -nocrashreport -nofirststartwizard -nologo -norestore
tomcat   23299  0.0  0.0      0     0 ?        Z    Aug22   0:00 [soffice.bin] &lt;defunct&gt;
root     29294  0.4  6.2 4298500 495868 ?      Sl   Aug16  40:58 java -server -Xms512m -Xmx512m -XX:NewRatio=3 -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=8 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:ConcGCThreads=4 -XX:ParallelGCThreads=4 -XX:+CMSScavengeBeforeRemark -XX:PretenureSizeThreshold=64m -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=50 -XX:CMSMaxAbortablePrecleanTime=6000 -XX:+CMSParallelRemarkEnabled -XX:+ParallelRefProcEnabled -verbose:gc -XX:+PrintHeapAtGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -Xloggc:/opt/solr/server/logs/solr_gc.log -Djetty.port=8983 -DSTOP.PORT=7983 -DSTOP.KEY=solrrocks -Duser.timezone=UTC -Djetty.home=/opt/solr/server -Dsolr.solr.home=/opt/solr/server/solr -Dsolr.install.dir=/opt/solr -Xss256k -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -jar start.jar -XX:OnOutOfMemoryError=/opt/solr/bin/oom_solr.sh 8983 /opt/solr/server/logs --module=http
tomcat   31681  1.1 15.2 6935996 1216136 ?     Ssl  Aug16 114:10 /usr/lib/jvm/jre/bin/java -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -server -Xss1024K -Xms1G -Xmx3G -XX:MaxPermSize=512M -XX:NewSize=512m -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:CMSInitiatingOccupancyFraction=80 -Dbonita.home=/var/bonita -Dsysprop.bonita.db.vendor=mysql -Dbtm.root=/var/lib/tomcats/bonita/ -Dbitronix.tm.configuration=/var/lib/tomcats/bonita/conf/bitronix-config.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/var/lib/tomcats/bonita -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/var/lib/tomcats/bonita/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start
</pre></div>
</div>
</div>
<div class="section" id="base-de-donnees-mysql">
<h4><a class="toc-backref" href="#id11">Base de données MySQL</a><a class="headerlink" href="#base-de-donnees-mysql" title="Permalink to this headline">¶</a></h4>
<p>Les deux composants précédents (Drupal et Alfresco) nécessitent chacun de
posséder une base de données permettant leur bon fonctionnement.</p>
<p>Ces bases de données sont hébergées par MySQL.</p>
<p>La base de données utilisée par Drupal possède le nom <code class="docutils literal"><span class="pre">drupal</span></code></p>
<p>La base de données utilisée par Alfresco se nomme <code class="docutils literal"><span class="pre">alfresco</span></code></p>
<p>En production, cela se traduit par deux processus:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/bin/sh /usr/bin/mysqld\_safe –datadir=/var/lib/mysql --socket=/var/lib/mysql/mysql.sock --pid-file=/var/run/mysqld/mysqld.pid --basedir=/usr --user=mysql
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">mysqld</span> <span class="o">--</span><span class="n">basedir</span><span class="o">=/</span><span class="n">usr</span> <span class="o">--</span><span class="n">datadir</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mysql</span><span class="o">--</span><span class="n">plugin</span><span class="o">-</span> <span class="nb">dir</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">mysql</span><span class="o">/</span><span class="n">plugin</span> <span class="o">--</span><span class="n">user</span><span class="o">=</span><span class="n">mysql</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">error</span><span class="o">=/</span><span class="n">va</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">mysqld</span><span class="o">.</span><span class="n">log</span> <span class="n">pid</span><span class="o">-</span><span class="n">file</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">mysqld</span><span class="o">/</span><span class="n">mysqld</span><span class="o">.</span><span class="n">pid</span> <span class="o">--</span><span class="n">socket</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mysql</span><span class="o">/</span><span class="n">mysql</span><span class="o">.</span><span class="n">sock</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep mysqld
mysql    31915  4.5 12.6 2831048 1012492 ?     Sl   Aug16 447:22 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid
</pre></div>
</div>
</div>
<div class="section" id="moteur-de-recherche-solr">
<h4><a class="toc-backref" href="#id12">Moteur de recherche Solr</a><a class="headerlink" href="#moteur-de-recherche-solr" title="Permalink to this headline">¶</a></h4>
<p>L’indexation et la recherche au sein de la plate-forme GoFAST sont
assurées par Apache Solr.</p>
<p>En production, cela se traduit par un processus qui se nomme <code class="docutils literal"><span class="pre">java</span> <span class="pre">–jar</span>
<span class="pre">start.jar</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep start.jar
root     29294  0.4  6.1 4298500 493744 ?      Sl   Aug16  41:03 java -server -Xms512m -Xmx512m -XX:NewRatio=3 -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=8 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:ConcGCThreads=4 -XX:ParallelGCThreads=4 -XX:+CMSScavengeBeforeRemark -XX:PretenureSizeThreshold=64m -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=50 -XX:CMSMaxAbortablePrecleanTime=6000 -XX:+CMSParallelRemarkEnabled -XX:+ParallelRefProcEnabled -verbose:gc -XX:+PrintHeapAtGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -Xloggc:/opt/solr/server/logs/solr_gc.log -Djetty.port=8983 -DSTOP.PORT=7983 -DSTOP.KEY=solrrocks -Duser.timezone=UTC -Djetty.home=/opt/solr/server -Dsolr.solr.home=/opt/solr/server/solr -Dsolr.install.dir=/opt/solr -Xss256k -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -jar start.jar -XX:OnOutOfMemoryError=/opt/solr/bin/oom_solr.sh 8983 /opt/solr/server/logs --module=http
</pre></div>
</div>
</div>
<div class="section" id="serveur-ldap">
<h4><a class="toc-backref" href="#id13">Serveur LDAP</a><a class="headerlink" href="#serveur-ldap" title="Permalink to this headline">¶</a></h4>
<p>Les différents Utilisateurs et Espaces collaboratifs de la plate-forme
GoFAST sont stockés au sein d’un annuaire LDAP, utilisé par
les différents composants de la plate-forme.</p>
<p>En production, cela se traduit par un processus <code class="docutils literal"><span class="pre">/usr/sbin/slapd</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep slapd
ldap     30084  0.2  1.1 1235156 95212 ?       Ssl  Aug07  50:37 /usr/sbin/slapd -u ldap -h ldapi:/// ldaps:/// ldap:///
</pre></div>
</div>
</div>
<div class="section" id="composant-de-previsualisation-de-documents-libreoffice">
<h4><a class="toc-backref" href="#id14">Composant de prévisualisation de documents (LibreOffice)</a><a class="headerlink" href="#composant-de-previsualisation-de-documents-libreoffice" title="Permalink to this headline">¶</a></h4>
<p>Tous les documents (compatibles) stockés dans la plate-forme GoFAST
possèdent une prévisualisation au format PDF.</p>
<p>Cette transformation est assurée par le logiciel LibreOffice.</p>
<p>En production cela se traduit par un processus nommé
<code class="docutils literal"><span class="pre">/opt/libreoffice4.1/program/soffice.bin</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep libreoffice
root     23081  0.0  0.0 295076   856 ?        Sl   Aug22   0:00 /opt/libreoffice5.3/program/oosplash --accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -env:UserInstallation=file:///var/alfresco/alf_data/oouser --headless --nocrashreport --nofirststartwizard --nologo --norestore
root     23102  2.7  2.0 1598084 162032 ?      Sl   Aug22  42:07 /opt/libreoffice5.3/program/soffice.bin -env:UserInstallation=file:///var/alfresco/alf_data/oouser --accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager --headless --nocrashreport --nofirststartwizard --nologo --norestore
tomcat   23282  0.0  0.0 229540   864 ?        Sl   Aug22   0:00 /opt/libreoffice5.3/program/oosplash -accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -env:UserInstallation=file:///var/alfresco/alf_data/oouser -headless -nocrashreport -nofirststartwizard -nologo -norestore
tomcat   23297 99.9  0.3 709592 26972 ?        Sl   Aug22 1508:19 /opt/libreoffice5.3/program/soffice.bin -env:UserInstallation=file:///var/alfresco/alf_data/oouser -accept=socket,host=127.0.0.1,port=8100;urp;StarOffice.ServiceManager -headless -nocrashreport -nofirststartwizard -nologo -norestore
</pre></div>
</div>
</div>
<div class="section" id="notifications-par-email">
<h4><a class="toc-backref" href="#id15">Notifications par email</a><a class="headerlink" href="#notifications-par-email" title="Permalink to this headline">¶</a></h4>
<p>Le module <code class="docutils literal"><span class="pre">gofast_mail_queue</span></code> sert aux notifications envoyées par email. Il implémente <code class="docutils literal"><span class="pre">hook_cron()</span></code> pour envoyer les emails en attente.</p>
</div>
</div>
<div class="section" id="cron">
<h3><a class="toc-backref" href="#id16">Cron</a><a class="headerlink" href="#cron" title="Permalink to this headline">¶</a></h3>
<p>Certaines tâches peuvent être automatisées en utilisant cron (gestionnaire des tâches Linux). Une tâche cron c’est une commande définie dans le fichier <code class="docutils literal"><span class="pre">/etc/crontab</span></code> qui est executée à un moment précis. Sur la VM1, il y a les entrées suivantes:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">apache</span> <span class="pre">wget</span> <span class="pre">-O</span> <span class="pre">-</span> <span class="pre">-q</span> <span class="pre">-t</span> <span class="pre">1</span> <span class="pre">http://localhost/gofast-cron.php</span></code> - le cron <code class="docutils literal"><span class="pre">gofast-cron.php</span></code> s’exécute chaque minute et gère les requêtes entrantes pour déclencher des tâches cron</li>
<li><code class="docutils literal"><span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">root</span> <span class="pre">/opt/ceo-vision/restart_soffice.sh</span></code> - le script <code class="docutils literal"><span class="pre">restart_soffice.sh</span></code> s’exécute chaque minute et s’il détect un problème avec LibreOffice, il le redémarre</li>
<li><code class="docutils literal"><span class="pre">31</span> <span class="pre">23</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">root</span> <span class="pre">/opt/ceo-vision/backup.sh</span> <span class="pre">daily</span></code> - le script de backup s’exécute une fois par jour (à 23h31) et sauvergarde les données dans <code class="docutils literal"><span class="pre">/var/backup</span></code></li>
<li><code class="docutils literal"><span class="pre">31</span> <span class="pre">23</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">root</span> <span class="pre">/var/www/d7/scripts/versions-script.sh</span> <span class="pre">&gt;</span> <span class="pre">/var/www/d7/scripts/versions-script_output.txt</span></code> - le script récuperant les versions des composants s’exécute une fois par jour (à 23h31) et remplit le fichier <code class="docutils literal"><span class="pre">versions-script_output.txt</span></code> avec la sortie du script</li>
</ul>
</div>
<div class="section" id="logs">
<h3><a class="toc-backref" href="#id17">Logs</a><a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h3>
<p>Les fichiers logs sont très importants car lorsqu’il y a un problème ils permettent de voir tous les événements du système. La plupart des logs sont situés dans <code class="docutils literal"><span class="pre">/var/logs/</span></code>. Ci-dessous sont les emplacements des logs sur la VM1:</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>/var/log/php-fpm/</td>
<td>PHP-FPM</td>
</tr>
<tr class="row-even"><td>/etc/httpd/logs/</td>
<td>Apache</td>
</tr>
<tr class="row-odd"><td>/var/lib/tomcats/alfresco/logs/</td>
<td>Alfresco</td>
</tr>
<tr class="row-even"><td>/var/lib/tomcats/bonita/logs/</td>
<td>Bonita</td>
</tr>
<tr class="row-odd"><td>/var/log/mysqld.log</td>
<td rowspan="3">MySQL</td>
</tr>
<tr class="row-even"><td>/var/log/mysql.log</td>
</tr>
<tr class="row-odd"><td>/var/log/mysql-slow.log</td>
</tr>
<tr class="row-even"><td>/opt/solr/server/logs/</td>
<td>Solr</td>
</tr>
<tr class="row-odd"><td>/var/log/slapd.log</td>
<td>LDAP</td>
</tr>
<tr class="row-even"><td>-</td>
<td>LibreOffice</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="vm-2">
<h2><a class="toc-backref" href="#id18">VM 2</a><a class="headerlink" href="#vm-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id19">Démarrage</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Les services démarrés au boot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ systemctl list-unit-files --state=enabled
UNIT FILE                                   STATE
auditd.service                              enabled
autovt@.service                             enabled
chronyd.service                             enabled
cloud-config.service                        enabled
cloud-final.service                         enabled
cloud-init-local.service                    enabled
cloud-init.service                          enabled
crond.service                               enabled
dbus-org.fedoraproject.FirewallD1.service   enabled
dbus-org.freedesktop.NetworkManager.service enabled
dbus-org.freedesktop.nm-dispatcher.service  enabled
firewalld.service                           enabled
getty@.service                              enabled
irqbalance.service                          enabled
kdump.service                               enabled
microcode.service                           enabled
NetworkManager-dispatcher.service           enabled
NetworkManager.service                      enabled
postfix.service                             enabled
postgresql.service                          enabled
rsyslog.service                             enabled
sshd.service                                enabled
systemd-readahead-collect.service           enabled
systemd-readahead-drop.service              enabled
systemd-readahead-replay.service            enabled
tuned.service                               enabled
default.target                              enabled
multi-user.target                           enabled
remote-fs.target                            enabled
runlevel2.target                            enabled
runlevel3.target                            enabled
runlevel4.target                            enabled

32 unit files listed.
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id20">Processus</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>L’ensemble de tous les processus qui tournent sur la VM2 est ci-dessous:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | cat
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0 123032  3572 ?        Ss   Aug16   0:17 /usr/lib/systemd/systemd --switched-root --system --deserialize 21
root       337  0.0  0.3  61804 25936 ?        Ss   Aug16   0:19 /usr/lib/systemd/systemd-journald
postfix    353  0.0  0.0  89260  3948 ?        S    14:58   0:00 cleanup -z -t unix -u
postfix    357  0.0  0.0  89216  4512 ?        S    14:58   0:00 local -t unix
root       366  0.0  0.0  43132  1832 ?        Ss   Aug16   0:00 /usr/lib/systemd/systemd-udevd
root       373  0.0  0.0 114560  1752 ?        S&lt;sl Aug16   0:08 /sbin/auditd -n
root       406  0.0  0.0  24200  1696 ?        Ss   Aug16   0:05 /usr/lib/systemd/systemd-logind
dbus       407  0.0  0.0  24536  1808 ?        Ss   Aug16   0:09 /bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation
postfix    408  0.0  0.0  89116  3912 ?        S    14:59   0:00 trivial-rewrite -n rewrite -t unix -u
root       432  0.0  0.3 327140 26688 ?        Ssl  Aug16   0:16 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid
root       433  0.0  0.1 332300 12884 ?        Ssl  Aug16   0:06 /usr/sbin/rsyslogd -n
root       435  0.0  0.0  19180  1204 ?        Ss   Aug16   0:24 /usr/sbin/irqbalance --foreground
root       446  0.0  0.0 110036   840 tty1     Ss+  Aug16   0:00 /sbin/agetty --noclear tty1 linux
root       488  0.0  0.1 433520 10392 ?        Ssl  Aug16   0:03 /usr/sbin/NetworkManager --no-daemon
polkitd    586  0.0  0.2 528256 13836 ?        Ssl  Aug16   0:03 /usr/lib/polkit-1/polkitd --no-debug
root       640  0.0  0.2 110592 15820 ?        S    Aug16   0:00 /sbin/dhclient -d -q -sf /usr/libexec/nm-dhcp-helper -pf /var/run/dhclient-eth0.pid -lf /var/lib/NetworkManager/dhclient-5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03-eth0.lease -cf /var/lib/NetworkManager/dhclient-eth0.conf eth0
root       855  0.0  0.0  80424  3568 ?        Ss   Aug16   0:07 /usr/sbin/sshd -D
root       857  0.0  0.2 553212 18348 ?        Ssl  Aug16   1:45 /usr/bin/python -Es /usr/sbin/tuned -l -P
postgres  1407  0.0  0.1 232292  9344 ?        S    Aug16   0:19 /usr/bin/postgres -D /var/lib/pgsql/data -p 5432
centos    1649  0.0  0.0 151040  1820 pts/0    R+   15:23   0:00 ps aux
centos    1650  0.0  0.0 107916   360 pts/0    S+   15:23   0:00 cat
root      2037  0.0  0.0  89008  2140 ?        Ss   Aug16   0:03 /usr/libexec/postfix/master -w
postfix   2039  0.0  0.0  89288  4116 ?        S    Aug16   0:01 qmgr -l -t unix -u
postgres  2065  0.0  0.0 192036  1556 ?        Ss   Aug16   0:00 postgres: logger process
postgres  2075  0.0  0.0 232392  2584 ?        Ss   Aug16   0:00 postgres: checkpointer process
postgres  2076  0.0  0.0 232292  1956 ?        Ss   Aug16   0:06 postgres: writer process
postgres  2077  0.0  0.0 232292  1688 ?        Ss   Aug16   0:06 postgres: wal writer process
postgres  2078  0.0  0.0 233108  2920 ?        Ss   Aug16   0:15 postgres: autovacuum launcher process
postgres  2079  0.0  0.0 192168  1724 ?        Ss   Aug16   0:18 postgres: stats collector process
redis     5425  0.0  0.0 142900  5956 ?        Ssl  Aug17   9:55 /usr/bin/redis-server 127.0.0.1:6379
rabbitmq  5445  0.1  0.7 1129872 48388 ?       Ssl  Aug17  18:42 /usr/lib64/erlang/erts-5.10.4/bin/beam.smp -W w -K true -A30 -P 1048576 -- -root /usr/lib64/erlang -progname erl -- -home /var/lib/rabbitmq -- -pa /usr/lib/rabbitmq/lib/rabbitmq_server-3.3.5/sbin/../ebin -noshell -noinput -s rabbit boot -sname rabbit@gofast-comm-ceov-prod -boot start_sasl -config /etc/rabbitmq/rabbitmq -kernel inet_default_connect_options [{nodelay,true}] -sasl errlog_type error -sasl sasl_error_logger false -rabbit error_logger {file,&quot;/var/log/rabbitmq/rabbit@gofast-comm-ceov-prod.log&quot;} -rabbit sasl_error_logger {file,&quot;/var/log/rabbitmq/rabbit@gofast-comm-ceov-prod-sasl.log&quot;} -rabbit enabled_plugins_file &quot;/etc/rabbitmq/enabled_plugins&quot; -rabbit plugins_dir &quot;/usr/lib/rabbitmq/lib/rabbitmq_server-3.3.5/sbin/../plugins&quot; -rabbit plugins_expand_dir &quot;/var/lib/rabbitmq/mnesia/rabbit@gofast-comm-ceov-prod-plugins-expand&quot; -os_mon start_cpu_sup false -os_mon start_disksup false -os_mon start_memsup false -mnesia dir &quot;/var/lib/rabbitmq/mnesia/rabbit@gofast-comm-ceov-prod&quot; -kernel inet_dist_listen_min 25672 -kernel inet_dist_listen_max 25672
rabbitmq  5460  0.0  0.0  33052   780 ?        S    Aug17   0:06 /usr/lib64/erlang/erts-5.10.4/bin/epmd -daemon
rabbitmq  5525  0.0  0.0  33016   724 ?        Ss   Aug17   0:00 inet_gethost 4
rabbitmq  5526  0.0  0.0  35140   884 ?        S    Aug17   0:00 inet_gethost 4
root      5547  0.0  0.1 220832 12040 ?        Ss   Aug17   3:12 /usr/bin/python /usr/bin/supervisord -c /etc/supervisord.conf
ejabberd  5590  0.1  1.0 1062796 71112 ?       Sl   Aug17  11:46 /opt/ejabberd-16.12/bin/beam.smp -K true -P 250000 -- -root /opt/ejabberd-16.12 -progname /opt/ejabberd-16.12/bin/erl -- -home /home/ejabberd -- -sname ejabberd@localhost -noshell -noinput -noshell -noinput -mnesia dir &quot;/opt/ejabberd-16.12/database/ejabberd@localhost&quot; -ejabberd log_rate_limit 100 log_rotate_size 10485760 log_rotate_count 1 log_rotate_date &quot;&quot; -s ejabberd -smp enable start
root      5594  0.1  2.7 5885804 187380 ?      Sl   Aug17  14:57 java -Xmx3072m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Djava.library.path=/usr/share/jitsi-videobridge/lib/native/linux-64 -cp /usr/share/jitsi-videobridge/jitsi-videobridge.jar:/usr/share/jitsi-videobridge/lib/agafua-syslog-0.4.jar:/usr/share/jitsi-videobridge/lib/async-http-client-1.9.31.jar:/usr/share/jitsi-videobridge/lib/bccontrib-1.0.jar:/usr/share/jitsi-videobridge/lib/bcpkix-jdk15on-1.54.jar:/usr/share/jitsi-videobridge/lib/bcprov-jdk15on-1.54.jar:/usr/share/jitsi-videobridge/lib/callstats-java-sdk-4.1.1.jar:/usr/share/jitsi-videobridge/lib/commons-codec-1.6.jar:/usr/share/jitsi-videobridge/lib/commons-lang-2.4.jar:/usr/share/jitsi-videobridge/lib/commons-lang3-3.1.jar:/usr/share/jitsi-videobridge/lib/commons-logging-1.2.jar:/usr/share/jitsi-videobridge/lib/concurrentlinkedhashmap-lru-1.0_jdk5.jar:/usr/share/jitsi-videobridge/lib/core-2.0.0.jar:/usr/share/jitsi-videobridge/lib/dnsjava-2.1.7.jar:/usr/share/jitsi-videobridge/lib/dom4j-1.6.1.jar:/usr/share/jitsi-videobridge/lib/fmj-1.0-20161207.221530-23.jar:/usr/share/jitsi-videobridge/lib/gson-2.3.1.jar:/usr/share/jitsi-videobridge/lib/guava-15.0.jar:/usr/share/jitsi-videobridge/lib/httpasyncclient-4.1.jar:/usr/share/jitsi-videobridge/lib/httpclient-4.4.jar:/usr/share/jitsi-videobridge/lib/httpcore-4.4.jar:/usr/share/jitsi-videobridge/lib/httpcore-nio-4.4.1.jar:/usr/share/jitsi-videobridge/lib/ice4j-2.0-20161221.230043-4.jar:/usr/share/jitsi-videobridge/lib/jain-sip-ri-ossonly-1.2.98c7f8c-jitsi-oss1.jar:/usr/share/jitsi-videobridge/lib/java-sdp-nist-bridge-1.1.jar:/usr/share/jitsi-videobridge/lib/javax.servlet-api-3.1.0.jar:/usr/share/jitsi-videobridge/lib/jcip-annotations-1.0.jar:/usr/share/jitsi-videobridge/lib/jetty-client-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-http-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-io-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-proxy-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-rewrite-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-security-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-server-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-servlet-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-util-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-webapp-7.0.1.v20091125.jar:/usr/share/jitsi-videobridge/lib/jetty-xml-7.0.1.v20091125.jar:/usr/share/jitsi-videobridge/lib/jicoco-1.0-20161122.205032-37.jar:/usr/share/jitsi-videobridge/lib/jitsi-android-osgi-1.0-20150723.002702-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-configuration-2.9-20150723.181638-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-dnsservice-2.9-20150723.181644-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-fileaccess-2.9-20150723.181644-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-lgpl-dependencies-1.0-20150723.002855-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-netaddr-2.9-20150723.181645-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-packetlogging-2.9-20160331.174040-3.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-2.9-20151211.202410-3.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-jabber-2.9-20160505.143533-15.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-media-2.9-20150723.181646-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-resourcemanager-2.9-20150723.181652-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-ui-service-2.9-20150723.181654-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-util-2.9-20160203.194039-2.jar:/usr/share/jitsi-videobridge/lib/jna-4.1.0.jar:/usr/share/jitsi-videobridge/lib/jnsapi-0.0.3-jitsi-1-20151013.145326-2.jar:/usr/share/jitsi-videobridge/lib/jose4j-0.5.1.jar:/usr/share/jitsi-videobridge/lib/json-simple-1.1.1.jar:/usr/share/jitsi-videobridge/lib/jul-to-slf4j-1.7.7.jar:/usr/share/jitsi-videobridge/lib/jzlib-1.1.3.jar:/usr/share/jitsi-videobridge/lib/libidn-1.15.jar:/usr/share/jitsi-videobridge/lib/libjitsi-1.0-20170104.194736-218.jar:/usr/share/jitsi-videobridge/lib/log4j-1.2.15.jar:/usr/share/jitsi-videobridge/lib/log4j-api-2.3.jar:/usr/share/jitsi-videobridge/lib/log4j-core-2.3.jar:/usr/share/jitsi-videobridge/lib/netty-3.10.4.Final.jar:/usr/share/jitsi-videobridge/lib/orange-extensions-1.3.0.jar:/usr/share/jitsi-videobridge/lib/org.apache.felix.framework-4.4.0.jar:/usr/share/jitsi-videobridge/lib/org.apache.felix.main-4.4.0.jar:/usr/share/jitsi-videobridge/lib/org.osgi.core-4.3.1.jar:/usr/share/jitsi-videobridge/lib/osgi-over-slf4j-1.7.7.jar:/usr/share/jitsi-videobridge/lib/sdes4j-1.1.3.jar:/usr/share/jitsi-videobridge/lib/sdp-api-1.0.jar:/usr/share/jitsi-videobridge/lib/sigar-1.6.4.jar:/usr/share/jitsi-videobridge/lib/slf4j-api-1.7.7.jar:/usr/share/jitsi-videobridge/lib/slf4j-jdk14-1.7.7.jar:/usr/share/jitsi-videobridge/lib/slf4j-simple-1.6.1.jar:/usr/share/jitsi-videobridge/lib/smack-3.2.2-jitsi-1-20151215.185921-3.jar:/usr/share/jitsi-videobridge/lib/smackx-3.2.2-jitsi-1-20151215.185922-3.jar:/usr/share/jitsi-videobridge/lib/tinder-1.2.3.jar:/usr/share/jitsi-videobridge/lib/weupnp-0.1.4.jar:/usr/share/jitsi-videobridge/lib/xml-apis-1.0.b2.jar:/usr/share/jitsi-videobridge/lib/xmlpull-1.1.3.4a.jar:/usr/share/jitsi-videobridge/lib/xpp3-1.1.4c.jar:/usr/share/jitsi-videobridge/lib/zrtp4j-light-3.2.0-jitsi-1-20150723.002345-1.jar org.jitsi.videobridge.Main --domain=gofast-comm-dev.ceo-vision.com --secret=a4030ma --port=5275 --subdomain=videobridge --host=gofast-comm-dev.ceo-vision.com pis=xmpp,rest
root      5598  0.1  1.8 5850836 128644 ?      Sl   Aug17  15:13 java -Xmx3072m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Djava.library.path=/usr/share/jicofo/lib/native/linux-64 -cp /usr/share/jicofo/jicofo.jar:/usr/share/jicofo/lib/agafua-syslog-0.4.jar:/usr/share/jicofo/lib/bccontrib-1.0.jar:/usr/share/jicofo/lib/bcpkix-jdk15on-1.54.jar:/usr/share/jicofo/lib/bcprov-jdk15on-1.54.jar:/usr/share/jicofo/lib/commons-codec-1.6.jar:/usr/share/jicofo/lib/commons-lang-2.4.jar:/usr/share/jicofo/lib/commons-lang3-3.1.jar:/usr/share/jicofo/lib/commons-logging-1.2.jar:/usr/share/jicofo/lib/concurrentlinkedhashmap-lru-1.0_jdk5.jar:/usr/share/jicofo/lib/core-2.0.0.jar:/usr/share/jicofo/lib/dnsjava-2.1.7.jar:/usr/share/jicofo/lib/dom4j-1.6.1.jar:/usr/share/jicofo/lib/fmj-1.0-20160121.172939-10.jar:/usr/share/jicofo/lib/guava-15.0.jar:/usr/share/jicofo/lib/httpclient-4.4.jar:/usr/share/jicofo/lib/httpcore-4.4.jar:/usr/share/jicofo/lib/ice4j-1.1-20161005.095034-20.jar:/usr/share/jicofo/lib/jain-sip-ri-ossonly-1.2.98c7f8c-jitsi-oss1.jar:/usr/share/jicofo/lib/java-sdp-nist-bridge-1.1.jar:/usr/share/jicofo/lib/javax.servlet-3.0.0.v201112011016.jar:/usr/share/jicofo/lib/javax.servlet-api-3.1.0.jar:/usr/share/jicofo/lib/jcip-annotations-1.0.jar:/usr/share/jicofo/lib/jetty-ajp-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-client-9.2.10.v20150310.jar:/usr/share/jicofo/lib/jetty-continuation-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-http-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-io-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-proxy-9.2.10.v20150310.jar:/usr/share/jicofo/lib/jetty-security-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-server-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-servlet-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-util-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-webapp-7.0.1.v20091125.jar:/usr/share/jicofo/lib/jetty-xml-7.0.1.v20091125.jar:/usr/share/jicofo/lib/jicoco-1.0-20161122.205032-37.jar:/usr/share/jicofo/lib/jitsi-android-osgi-1.0-20150723.002702-1.jar:/usr/share/jicofo/lib/jitsi-configuration-2.9-20150723.181638-1.jar:/usr/share/jicofo/lib/jitsi-credentialsstorage-2.9-20150723.181643-1.jar:/usr/share/jicofo/lib/jitsi-dnsservice-2.9-20150723.181644-1.jar:/usr/share/jicofo/lib/jitsi-netaddr-2.9-20150723.181645-1.jar:/usr/share/jicofo/lib/jitsi-protocol-2.9-20160823.174711-4.jar:/usr/share/jicofo/lib/jitsi-protocol-jabber-2.9-20161005.180600-21.jar:/usr/share/jicofo/lib/jitsi-protocol-media-2.9-20150723.181646-1.jar:/usr/share/jicofo/lib/jitsi-ui-service-2.9-20150723.181654-1.jar:/usr/share/jicofo/lib/jitsi-util-2.9-20160203.194039-2.jar:/usr/share/jicofo/lib/jna-4.1.0.jar:/usr/share/jicofo/lib/jnsapi-0.0.3-jitsi-1-20151013.145326-2.jar:/usr/share/jicofo/lib/json-simple-1.1.1.jar:/usr/share/jicofo/lib/jzlib-1.1.3.jar:/usr/share/jicofo/lib/libidn-1.15.jar:/usr/share/jicofo/lib/libjitsi-1.0-20161020.193142-197.jar:/usr/share/jicofo/lib/log4j-1.2.14.jar:/usr/share/jicofo/lib/orange-extensions-1.3.0.jar:/usr/share/jicofo/lib/org.apache.felix.framework-4.4.0.jar:/usr/share/jicofo/lib/org.apache.felix.main-4.4.0.jar:/usr/share/jicofo/lib/org.osgi.core-4.3.1.jar:/usr/share/jicofo/lib/sdes4j-1.1.3.jar:/usr/share/jicofo/lib/sdp-api-1.0.jar:/usr/share/jicofo/lib/slf4j-api-1.7.7.jar:/usr/share/jicofo/lib/slf4j-jdk14-1.7.7.jar:/usr/share/jicofo/lib/smack-3.2.2-jitsi-1-20151215.185921-3.jar:/usr/share/jicofo/lib/smackx-3.2.2-jitsi-1-20151215.185922-3.jar:/usr/share/jicofo/lib/tinder-1.2.3.jar:/usr/share/jicofo/lib/weupnp-0.1.4.jar:/usr/share/jicofo/lib/xml-apis-1.0.b2.jar:/usr/share/jicofo/lib/xmlpull-1.1.3.4a.jar:/usr/share/jicofo/lib/xpp3-1.1.4c.jar:/usr/share/jicofo/lib/zrtp4j-light-3.2.0-jitsi-1-20150723.002345-1.jar org.jitsi.jicofo.Main --domain=gofast-comm-dev.ceo-vision.com --secret=a4030ma --user_domain=gofast-comm-dev.ceo-vision.com --user_name=admin --user_password=a4030ma --subdomain=focus --host=localhost --port=5348
onlyoff+  5615  0.0  0.2 966584 19692 ?        Sl   Aug17   0:03 statsd
onlyoff+  5616  0.0  0.3 935480 24248 ?        Sl   Aug17   0:09 node /var/www/onlyoffice/documentserver/server/SpellChecker/sources/server.js
onlyoff+  5617  0.0  0.7 1281184 50248 ?       Sl   Aug17   0:40 node /var/www/onlyoffice/documentserver/server/DocService/sources/gc.js
onlyoff+  5619  0.0  0.5 1055880 36272 ?       Sl   Aug17   0:22 node /var/www/onlyoffice/documentserver/server/DocService/sources/server.js
onlyoff+  5624  0.0  0.5 1057192 39240 ?       Sl   Aug17   0:20 node /var/www/onlyoffice/documentserver/server/FileConverter/sources/convertermaster.js
onlyoff+  5680  0.0 11.7 2014796 799768 ?      Sl   Aug17   0:27 /usr/bin/node /var/www/onlyoffice/documentserver/server/SpellChecker/sources/server.js
onlyoff+  5761  0.0  0.7 1275996 50600 ?       Sl   Aug17   0:07 /usr/bin/node /var/www/onlyoffice/documentserver/server/FileConverter/sources/convertermaster.js
onlyoff+  5771  0.0  0.8 1302016 60088 ?       Sl   Aug17   0:57 /usr/bin/node /var/www/onlyoffice/documentserver/server/DocService/sources/server.js
ejabberd  5814  0.0  0.0  11536   456 ?        Ss   Aug17   0:00 inet_gethost 4
ejabberd  5815  0.0  0.0  39376  1164 ?        S    Aug17   0:00 inet_gethost 4
root     15780  0.0  0.0 140900  5044 ?        Ss   09:12   0:00 sshd: centos [priv]
centos   15782  0.0  0.0 141028  2316 ?        R    09:12   0:00 sshd: centos@pts/0
centos   15783  0.0  0.0 115516  2152 pts/0    Ss   09:12   0:00 -bash
root     26134  0.0  0.0  57228  1288 ?        Ss   Aug23   0:00 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
nginx    26135  0.0  0.0  58132  4324 ?        S    Aug23   0:14 nginx: worker process
nginx    26136  0.0  0.0  58124  3852 ?        S    Aug23   0:22 nginx: worker process
nginx    26137  0.0  0.0  57408  1844 ?        S    Aug23   0:00 nginx: cache manager process
root     26218  0.0  0.0 124172  1584 ?        Ss   Aug23   0:00 /usr/sbin/crond -n
postfix  32197  0.0  0.0  89112  3892 ?        S    14:45   0:00 pickup -l -t unix -u
</pre></div>
</div>
<div class="section" id="reverse-proxy-nginx">
<h4><a class="toc-backref" href="#id21">Reverse proxy nginx</a><a class="headerlink" href="#reverse-proxy-nginx" title="Permalink to this headline">¶</a></h4>
<p>Nginx est un serveur web ainsi qu’un proxy reverse. C’est un serveur de haute performance et faible consommation mémoire. Sur la GoFAST, nginx est également usilisé pour tunneler du traffic XMPP notamment sur le port 443 évitant d’ouvrir des ports dans les firewall. NGINX possède un processus “master” (qui effectue les opérations privilégiées) et plusieurs processus “worker”.</p>
<p>En production le processus “master” est nommé <code class="docutils literal"><span class="pre">/usr/sbin/nginx</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep nginx
root     26134  0.0  0.0  57228  1288 ?        Ss   Aug23   0:00 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
nginx    26135  0.0  0.0  57988  3852 ?        S    Aug23   0:04 nginx: worker process
nginx    26136  0.0  0.0  58124  3852 ?        S    Aug23   0:08 nginx: worker process
nginx    26137  0.0  0.0  57408  1844 ?        S    Aug23   0:00 nginx: cache manager process
</pre></div>
</div>
</div>
<div class="section" id="rabbitmq">
<h4><a class="toc-backref" href="#id22">RabbitMQ</a><a class="headerlink" href="#rabbitmq" title="Permalink to this headline">¶</a></h4>
<p>RabbitMQ est un serveur de message qui utilise le protocol AMQP. Il donne aux applications une plate-forme commune pour envoyer et recevoir des messages:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep rabbitmq
rabbitmq  5445  0.1  0.7 1129872 48028 ?       Ssl  Aug17  28:26 /usr/lib64/erlang/erts-5.10.4/bin/beam.smp -W w -K true -A30 -P 1048576 -- -root /usr/lib64/erlang -progname erl -- -home /var/lib/rabbitmq -- -pa /usr/lib/rabbitmq/lib/rabbitmq_server-3.3.5/sbin/../ebin -noshell -noinput -s rabbit boot -sname rabbit@gofast-comm-ceov-prod -boot start_sasl -config /etc/rabbitmq/rabbitmq -kernel inet_default_connect_options [{nodelay,true}] -sasl errlog_type error -sasl sasl_error_logger false -rabbit error_logger {file,&quot;/var/log/rabbitmq/rabbit@gofast-comm-ceov-prod.log&quot;} -rabbit sasl_error_logger {file,&quot;/var/log/rabbitmq/rabbit@gofast-comm-ceov-prod-sasl.log&quot;} -rabbit enabled_plugins_file &quot;/etc/rabbitmq/enabled_plugins&quot; -rabbit plugins_dir &quot;/usr/lib/rabbitmq/lib/rabbitmq_server-3.3.5/sbin/../plugins&quot; -rabbit plugins_expand_dir &quot;/var/lib/rabbitmq/mnesia/rabbit@gofast-comm-ceov-prod-plugins-expand&quot; -os_mon start_cpu_sup false -os_mon start_disksup false -os_mon start_memsup false -mnesia dir &quot;/var/lib/rabbitmq/mnesia/rabbit@gofast-comm-ceov-prod&quot; -kernel inet_dist_listen_min 25672 -kernel inet_dist_listen_max 25672
rabbitmq  5460  0.0  0.0  33052   780 ?        S    Aug17   0:09 /usr/lib64/erlang/erts-5.10.4/bin/epmd -daemon
rabbitmq  5525  0.0  0.0  33016   724 ?        Ss   Aug17   0:00 inet_gethost 4
rabbitmq  5526  0.0  0.0  35140   884 ?        S    Aug17   0:00 inet_gethost 4
</pre></div>
</div>
</div>
<div class="section" id="edition-collaborative">
<h4><a class="toc-backref" href="#id23">Edition collaborative</a><a class="headerlink" href="#edition-collaborative" title="Permalink to this headline">¶</a></h4>
<p>L’édition collaborative en ligne est assurée par la suite bureautique OnlyOffice. Il permét de travailler sur les documents en mode Rapide ou Strict. OnlyOffice nécessite quelques dépendances dont la base de données PostgreSQL, le système de gestion de base de données Redis et la plate-forme Node.js.</p>
<p>PostgreSQL se traduit par un processus <code class="docutils literal"><span class="pre">/usr/bin/postgres</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod sbin]$ ps aux |grep postgres
postgres  1407  0.0  0.1 232292  9344 ?        S    Aug16   0:21 /usr/bin/postgres -D /var/lib/pgsql/data -p 5432
postgres  2065  0.0  0.0 192036  1556 ?        Ss   Aug16   0:00 postgres: logger process
postgres  2075  0.0  0.0 232392  2584 ?        Ss   Aug16   0:00 postgres: checkpointer process
postgres  2076  0.0  0.0 232292  1956 ?        Ss   Aug16   0:07 postgres: writer process
postgres  2077  0.0  0.0 232292  1688 ?        Ss   Aug16   0:07 postgres: wal writer process
postgres  2078  0.0  0.0 233108  2920 ?        Ss   Aug16   0:17 postgres: autovacuum launcher process
postgres  2079  0.0  0.0 192168  1724 ?        Ss   Aug16   0:20 postgres: stats collector process
</pre></div>
</div>
<p>Redis se traduit par un processus qui se nomme <code class="docutils literal"><span class="pre">/usr/bin/redis-server</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod sbin]$ ps aux |grep redis-server
redis     5425  0.0  0.0 142900  5956 ?        Ssl  Aug17  10:56 /usr/bin/redis-server 127.0.0.1:6379
</pre></div>
</div>
<p>Node.js se traduit par un processus qui se nomme <code class="docutils literal"><span class="pre">/usr/bin/node</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod sbin]$ ps aux | rep node
onlyoff+  5616  0.0  0.3 936504 23576 ?        Sl   Aug17   0:10 node /var/www/onlyoffice/documentserver/server/SpellChecker/sources/server.js
onlyoff+  5617  0.0  0.6 1277088 46180 ?       Sl   Aug17   0:44 node /var/www/onlyoffice/documentserver/server/DocService/sources/gc.js
onlyoff+  5619  0.0  0.5 1055880 36276 ?       Sl   Aug17   0:24 node /var/www/onlyoffice/documentserver/server/DocService/sources/server.js
onlyoff+  5624  0.0  0.5 1057192 38976 ?       Sl   Aug17   0:22 node /var/www/onlyoffice/documentserver/server/FileConverter/sources/convertermaster.js
onlyoff+  5680  0.0 11.7 2014796 799996 ?      Sl   Aug17   0:29 /usr/bin/node /var/www/onlyoffice/documentserver/server/SpellChecker/sources/server.js
onlyoff+  5761  0.0  0.7 1275996 50620 ?       Sl   Aug17   0:08 /usr/bin/node /var/www/onlyoffice/documentserver/server/FileConverter/sources/convertermaster.js
onlyoff+  5771  0.0  0.9 1303040 61424 ?       Sl   Aug17   1:03 /usr/bin/node /var/www/onlyoffice/documentserver/server/DocService/sources/server.js
</pre></div>
</div>
</div>
<div class="section" id="messagerie-instantanee">
<h4><a class="toc-backref" href="#id24">Messagerie instantanée</a><a class="headerlink" href="#messagerie-instantanee" title="Permalink to this headline">¶</a></h4>
<p>La messagerie instantanée est basée sur l’application JSXC - client JavaScript XMPP. Il nécessite un serveur XMPP pour fonctionner donc le serveur ejabberd a été choisi. En production, cela se traduit par un processus qui se nomme <code class="docutils literal"><span class="pre">/opt/ejabberd-16.12/bin/beam.smp</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep ejabberd
ejabberd  5590  0.1  1.0 1061772 70960 ?       Sl   Aug17  11:03 /opt/ejabberd-16.12/bin/beam.smp -K true -P 250000 -- -root /opt/ejabberd-16.12 -progname /opt/ejabberd-16.12/bin/erl -- -home /home/ejabberd -- -sname ejabberd@localhost -noshell -noinput -noshell -noinput -mnesia dir &quot;/opt/ejabberd-16.12/database/ejabberd@localhost&quot; -ejabberd log_rate_limit 100 log_rotate_size 10485760 log_rotate_count 1 log_rotate_date &quot;&quot; -s ejabberd -smp enable start
ejabberd  5814  0.0  0.0  11536   456 ?        Ss   Aug17   0:00 inet_gethost 4
ejabberd  5815  0.0  0.0  17884   680 ?        S    Aug17   0:00 inet_gethost 4
</pre></div>
</div>
</div>
<div class="section" id="visioconference">
<h4><a class="toc-backref" href="#id25">Visioconférence</a><a class="headerlink" href="#visioconference" title="Permalink to this headline">¶</a></h4>
<p>Pour offrir la fonctionnalité de Visioconférence dans la GoFAST, l’application open source Jitsi Meet est utilisée. Les deux composants nécessaires pour les conférences sont jicofo (gestion des sessions entre chacun des participants et le videobridge) et jitsi-videobridge (composant serveur XMPP qui permet la communication multi-utilisateur).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cette partie consomme du CPU et de la bande passante proportionnellement aux nombres de participants</p>
</div>
<p>En production, jitsi-videobridge <code class="docutils literal"><span class="pre">/usr/share/jitsi-videobridge/jitsi-videobridge.jar</span></code> (un composant java nécessaire à jitsi-meet) se traduit par un processus:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep jitsi-videobridge
root      5594  0.1  2.7 5885804 187380 ?      Sl   Aug17  16:40 java -Xmx3072m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Djava.library.path=/usr/share/jitsi-videobridge/lib/native/linux-64 -cp /usr/share/jitsi-videobridge/jitsi-videobridge.jar:/usr/share/jitsi-videobridge/lib/agafua-syslog-0.4.jar:/usr/share/jitsi-videobridge/lib/async-http-client-1.9.31.jar:/usr/share/jitsi-videobridge/lib/bccontrib-1.0.jar:/usr/share/jitsi-videobridge/lib/bcpkix-jdk15on-1.54.jar:/usr/share/jitsi-videobridge/lib/bcprov-jdk15on-1.54.jar:/usr/share/jitsi-videobridge/lib/callstats-java-sdk-4.1.1.jar:/usr/share/jitsi-videobridge/lib/commons-codec-1.6.jar:/usr/share/jitsi-videobridge/lib/commons-lang-2.4.jar:/usr/share/jitsi-videobridge/lib/commons-lang3-3.1.jar:/usr/share/jitsi-videobridge/lib/commons-logging-1.2.jar:/usr/share/jitsi-videobridge/lib/concurrentlinkedhashmap-lru-1.0_jdk5.jar:/usr/share/jitsi-videobridge/lib/core-2.0.0.jar:/usr/share/jitsi-videobridge/lib/dnsjava-2.1.7.jar:/usr/share/jitsi-videobridge/lib/dom4j-1.6.1.jar:/usr/share jitsi-videobridge/lib/fmj-1.0-20161207.221530-23.jar:/usr/share/jitsi-videobridge/lib/gson-2.3.1.jar:/usr/share/jitsi-videobridge/lib/guava-15.0.jar:/usr/share/jitsi-videobridge/lib/httpasyncclient-4.1.jar:/usr/share/jitsi-videobridge/lib/httpclient-4.4.jar:/usr/share/jitsi-videobridge/lib/httpcore-4.4.jar:/usr/share/jitsi-videobridge/lib/httpcore-nio-4.4.1.jar:/usr/share/jitsi-videobridge/lib/ice4j-2.0-20161221.230043-4.jar:/usr/share/jitsi-videobridge/lib/jain-sip-ri-ossonly-1.2.98c7f8c-jitsi-oss1.jar:/usr/share/jitsi-videobridge/lib/java-sdp-nist-bridge-1.1.jar:/usr/share/jitsi-videobridge/lib/javax.servlet-api-3.1.0.jar:/usr/share/jitsi-videobridge/lib/jcip-annotations-1.0.jar:/usr/share/jitsi-videobridge/lib/jetty-client-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-http-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-io-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-proxy-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-rewrite-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-security-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-server-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-servlet-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-util-9.2.10.v20150310.jar:/usr/share/jitsi-videobridge/lib/jetty-webapp-7.0.1.v20091125.jar:/usr/share/jitsi-videobridge/lib/jetty-xml-7.0.1.v20091125.jar:/usr/share/jitsi-videobridge/lib/jicoco-1.0-20161122.205032-37.jar:/usr/share/jitsi-videobridge/lib/jitsi-android-osgi-1.0-20150723.002702-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-configuration-2.9-20150723.181638-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-dnsservice-2.9-20150723.181644-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-fileaccess-2.9-20150723.181644-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-lgpl-dependencies-1.0-20150723.002855-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-netaddr-2.9-20150723.181645-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-packetlogging-2.9-20160331.174040-3.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-2.9-20151211.202410-3.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-jabber-2.9-20160505.143533-15.jar:/usr/share/jitsi-videobridge/lib/jitsi-protocol-media-2.9-20150723.181646-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-resourcemanager-2.9-20150723.181652-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-ui-service-2.9-20150723.181654-1.jar:/usr/share/jitsi-videobridge/lib/jitsi-util-2.9-20160203.194039-2.jar:/usr/share/jitsi-videobridge/lib/jna-4.1.0.jar:/usr/share/jitsi-videobridge/lib/jnsapi-0.0.3-jitsi-1-20151013.145326-2.jar:/usr/share/jitsi-videobridge/lib/jose4j-0.5.1.jar:/usr/share/jitsi-videobridge/lib/json-simple-1.1.1.jar:/usr/share/jitsi-videobridge/lib/jul-to-slf4j-1.7.7.jar:/usr/share/jitsi-videobridge/lib/jzlib-1.1.3.jar:/usr/share/jitsi-videobridge/lib/libidn-1.15.jar:/usr/share/jitsi-videobridge/lib/libjitsi-1.0-20170104.194736-218.jar:/usr/share/jitsi-videobridge/lib/log4j-1.2.15.jar:/usr/share/jitsi-videobridge/lib/log4j-api-2.3.jar:/usr/share/jitsi-videobridge/lib/log4j-core-2.3.jar:/usr/share/jitsi-videobridge/lib/netty-3.10.4.Final.jar:/usr/share/jitsi-videobridge/lib/orange-extensions-1.3.0.jar:/usr/share/jitsi-videobridge/lib/org.apache.felix.framework-4.4.0.jar:/usr/share/jitsi-videobridge/lib/org.apache.felix.main-4.4.0.jar:/usr/share/jitsi-videobridge/lib/org.osgi.core-4.3.1.jar:/usr/share/jitsi-videobridge/lib/osgi-over-slf4j-1.7.7.jar:/usr/share/jitsi-videobridge/lib/sdes4j-1.1.3.jar:/usr/share/jitsi-videobridge/lib/sdp-api-1.0.jar:/usr/share/jitsi-videobridge/lib/sigar-1.6.4.jar:/usr/share/jitsi-videobridge/lib/slf4j-api-1.7.7.jar:/usr/share/jitsi-videobridge/lib/slf4j-jdk14-1.7.7.jar:/usr/share/jitsi-videobridge/lib/slf4j-simple-1.6.1.jar:/usr/share/jitsi-videobridge/lib/smack-3.2.2-jitsi-1-20151215.185921-3.jar:/usr/share/jitsi-videobridge/lib/smackx-3.2.2-jitsi-1-20151215.185922-3.jar:/usr/share/jitsi-videobridge/lib/tinder-1.2.3.jar:/usr/share/jitsi-videobridge/lib/weupnp-0.1.4.jar:/usr/share/jitsi-videobridge/lib/xml-apis-1.0.b2.jar:/usr/share/jitsi-videobridge/lib/xmlpull-1.1.3.4a.jar:/usr/share/jitsi-videobridge/lib/xpp3-1.1.4c.jar:/usr/share/jitsi-videobridge/lib/zrtp4j-light-3.2.0-jitsi-1-20150723.002345-1.jar org.jitsi.videobridge.Main --domain=gofast-comm-dev.ceo-vision.com --secret=a4030ma --port=5275 --subdomain=videobridge --host=gofast-comm-dev.ceo-vision.com pis=xmpp,rest
</pre></div>
</div>
<p>Jicofo <code class="docutils literal"><span class="pre">/usr/share/jicofo/jicofo.jar</span></code> (un composant java de type “focus” nécessaire à jitsi-meet) se traduit par un processus:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep jicofo
root      5598  0.1  1.8 5850836 128648 ?      Sl   Aug17  16:54 java -Xmx3072m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Djava.library.path=/usr/share/jicofo/lib/native/linux-64 -cp /usr/share/jicofo/jicofo.jar:/usr/share/jicofo/lib/agafua-syslog-0.4.jar:/usr/share/jicofo/lib/bccontrib-1.0.jar:/usr/share/jicofo/lib/bcpkix-jdk15on-1.54.jar:/usr/share/jicofo/lib/bcprov-jdk15on-1.54.jar:/usr/share/jicofo/lib/commons-codec-1.6.jar:/usr/share/jicofo/lib/commons-lang-2.4.jar:/usr/share/jicofo/lib/commons-lang3-3.1.jar:/usr/share/jicofo/lib/commons-logging-1.2.jar:/usr/share/jicofo/lib/concurrentlinkedhashmap-lru-1.0_jdk5.jar:/usr/share/jicofo/lib/core-2.0.0.jar:/usr/share/jicofo/lib/dnsjava-2.1.7.jar:/usr/share/jicofo/lib/dom4j-1.6.1.jar:/usr/share/jicofo/lib/fmj-1.0-20160121.172939-10.jar:/usr/share/jicofo/lib/guava-15.0.jar:/usr/share/jicofo/lib/httpclient-4.4.jar:/usr/share/jicofo/lib/httpcore-4.4.jar:/usr/share/jicofo/lib/ice4j-1.1-20161005.095034-20.jar:/usr/share/jicofo/lib/jain-sip-ri-ossonly-1.2.98c7f8c-jitsi-oss1.jar:/usr/share/jicofo/lib/java-sdp-nist-bridge-1.1.jar:/usr/share/jicofo/lib/javax.servlet-3.0.0.v201112011016.jar:/usr/share/jicofo/lib/javax.servlet-api-3.1.0.jar:/usr/share/jicofo/lib/jcip-annotations-1.0.jar:/usr/share/jicofo/lib/jetty-ajp-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-client-9.2.10.v20150310.jar:/usr/share/jicofo/lib/jetty-continuation-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-http-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-io-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-proxy-9.2.10.v20150310.jar:/usr/share/jicofo/lib/jetty-security-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-server-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-servlet-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-util-8.1.16.v20140903.jar:/usr/share/jicofo/lib/jetty-webapp-7.0.1.v20091125.jar:/usr/share/jicofo/lib/jetty-xml-7.0.1.v20091125.jar:/usr/share/jicofo/lib/jicoco-1.0-20161122.205032-37.jar:/usr/share/jicofo/lib/jitsi-android-osgi-1.0-20150723.002702-1.jar:/usr/share/jicofo/lib/jitsi-configuration-2.9-20150723.181638-1.jar:/usr/share/jicofo/lib/jitsi-credentialsstorage-2.9-20150723.181643-1.jar:/usr/share/jicofo/lib/jitsi-dnsservice-2.9-20150723.181644-1.jar:/usr/share/jicofo/lib/jitsi-netaddr-2.9-20150723.181645-1.jar:/usr/share/jicofo/lib/jitsi-protocol-2.9-20160823.174711-4.jar:/usr/share/jicofo/lib/jitsi-protocol-jabber-2.9-20161005.180600-21.jar:/usr/share/jicof /lib/jitsi-protocol-media-2.9-20150723.181646-1.jar:/usr/share/jicofo/lib/jitsi-ui-service-2.9-20150723.181654-1.jar:/usr/share/jicofo/lib/jitsi-util-2.9-20160203.194039-2.jar:/usr/share/jicofo/lib/jna-4.1.0.jar:/usr/share/jicofo/lib/jnsapi-0.0.3-jitsi-1-20151013.145326-2.jar:/usr/share/jicofo/lib/json-simple-1.1.1.jar:/usr/share/jicofo/lib/jzlib-1.1.3.jar:/usr/share/jicofo/lib/libidn-1.15.jar:/usr/share/jicofo/lib/libjitsi-1.0-20161020.193142-197.jar:/usr/share/jicofo/lib/log4j-1.2.14.jar:/usr/share/jicofo/lib/orange-extensions-1.3.0.jar:/usr/share/jicofo/lib/org.apache.felix.framework-4.4.0.jar:/usr/share/jicofo/lib/org.apache.felix.main-4.4.0.jar:/usr/share/jicofo/lib/org.osgi.core-4.3.1.jar:/usr/share/jicofo/lib/sdes4j-1.1.3.jar:/usr/share/jicofo/lib/sdp-api-1.0.jar:/usr/share/jicofo/lib/slf4j-api-1.7.7.jar:/usr/share/jicofo/lib/slf4j-jdk14-1.7.7.jar:/usr/share/jicofo/lib/smack-3.2.2-jitsi-1-20151215.185921-3.jar:/usr/share/jicofo/lib/smackx-3.2.2-jitsi-1-20151215.185922-3.jar:/usr/share/jicofo/lib/tinder-1.2.3.jar:/usr/share/jicofo/lib/weupnp-0.1.4.jar:/usr/share/jicofo/lib/xml-apis-1.0.b2.jar:/usr/share/jicofo/lib/xmlpull-1.1.3.4a.jar:/usr/share/jicofo/lib/xpp3-1.1.4c.jar:/usr/share/jicofo/lib/zrtp4j-light-3.2.0-jitsi-1-20150723.002345-1.jar org.jitsi.jicofo.Main --domain=gofast-comm-dev.ceo-vision.com --secret=a4030ma --user_domain=gofast-comm-dev.ceo-vision.com --user_name=admin --user_password=a4030ma --subdomain=focus --host=localhost --port=5348
</pre></div>
</div>
</div>
<div class="section" id="supervisor">
<h4><a class="toc-backref" href="#id26">Supervisor</a><a class="headerlink" href="#supervisor" title="Permalink to this headline">¶</a></h4>
<p>Supervisor est un système client/serveur qui permet à ses utilisateurs de surveiller et de contrôler un certain nombre de processus sur des systèmes d’exploitation UNIX. En production, cela se traduit par un processus qui se nomme <code class="docutils literal"><span class="pre">/usr/bin/supervisord</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[centos@gofast-comm-ceov-prod ~]$ ps aux | grep supervisord
root     16731  0.0  0.1 220916 12144 ?        Ss   Sep01   3:15 /usr/bin/python /usr/bin/supervisord -c /etc/supervisord.conf
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id27">Logs</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Ci-dessous sont les emplacements des logs sur la VM2:</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/var/log/nginx/</span></code></td>
<td>nginx</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/log/onlyoffice/</span></code></td>
<td>OnlyOffice</td>
</tr>
<tr class="row-odd"><td>-</td>
<td>PostreSQL</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/log/nginx/redis/</span></code></td>
<td>Redis</td>
</tr>
<tr class="row-odd"><td>-</td>
<td>Node.js</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/log/ejabberd/</span></code></td>
<td>ejabberd</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/var/log/jitsi/jicofo.log</span></code></td>
<td>jicofo</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/log/jitsi/jvb.log</span></code></td>
<td>jitsi-videobridge</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="supervision">
<h2><a class="toc-backref" href="#id28">Supervision</a><a class="headerlink" href="#supervision" title="Permalink to this headline">¶</a></h2>
<div class="section" id="monitoring-du-serveur">
<h3><a class="toc-backref" href="#id29">Monitoring du serveur</a><a class="headerlink" href="#monitoring-du-serveur" title="Permalink to this headline">¶</a></h3>
<p>Sur certaines offres, nous installons automatiquement un composant
chargé de monitorer les informations principales du serveur.</p>
<p>Ce composant est Newrelic (<a class="reference external" href="https://newrelic.com">https://newrelic.com</a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">En 2018, il est possible que nous changions de fournisseurs de
supersion</p>
</div>
<p>Les principales informations supervisées sont les suivantes :</p>
<ul class="simple">
<li>Charge CPU</li>
<li>Disk IO</li>
<li>Utilisation RAM</li>
<li>Place disque disponible</li>
<li>Utilisation Réseau</li>
</ul>
<p>En production, cela se traduit par deux processus <code class="docutils literal"><span class="pre">/usr/sbin/nrsysmond</span></code>
qui effectuent des requêtes vers internet toutes les 3 minutes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[root@gofast3-integration ~]# ps aux | grep newrelic
root      1296  0.0  0.0 190024  1916 ?        Ssl  Aug16   0:01 /usr/bin/newrelic-daemon --agent --pidfile /var/run/newrelic-daemon.pid --logfile /var/log/newrelic/newrelic-daemon.log --port /tmp/.newrelic.sock --tls --define utilization.detect_aws=true --define utilization.detect_docker=true
root      1303  0.0  0.0 504360  2788 ?        Sl   Aug16   0:34 /usr/bin/newrelic-daemon --agent --pidfile /var/run/newrelic-daemon.pid --logfile /var/log/newrelic/newrelic-daemon.log --port /tmp/.newrelic.sock --tls --define utilization.detect_aws=true --define utilization.detect_docker=true -no-pidfile
root     18457  0.0  0.0 112648   976 pts/1    R+   16:14   0:00 grep --color=auto newrelic
tomcat   23103 15.0 30.2 7071740 2410948 ?     Ssl  Aug22 228:27 /usr/lib/jvm/jre/bin/java -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -server -Xss1024K -Xms1G -Xmx3G -XX:MaxPermSize=512M -XX:NewSize=1G -XX:-DisableExplicitGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:CMSInitiatingOccupancyFraction=80 -XX:ParallelGCThreads=4 -XX:+UseParNewGC -Djavax.net.ssl.keyStore=/etc/pki/keystore -Djavax.net.ssl.keyStorePassword=a4030ma -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/var/lib/tomcats/alfresco -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/var/lib/tomcats/alfresco/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start
root     29294  0.4  6.1 4298500 493744 ?      Sl   Aug16  41:08 java -server -Xms512m -Xmx512m -XX:NewRatio=3 -XX:SurvivorRatio=4 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=8 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:ConcGCThreads=4 -XX:ParallelGCThreads=4 -XX:+CMSScavengeBeforeRemark -XX:PretenureSizeThreshold=64m -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=50 -XX:CMSMaxAbortablePrecleanTime=6000 -XX:+CMSParallelRemarkEnabled -XX:+ParallelRefProcEnabled -verbose:gc -XX:+PrintHeapAtGC -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -Xloggc:/opt/solr/server/logs/solr_gc.log -Djetty.port=8983 -DSTOP.PORT=7983 -DSTOP.KEY=solrrocks -Duser.timezone=UTC -Djetty.home=/opt/solr/server -Dsolr.solr.home=/opt/solr/server/solr -Dsolr.install.dir=/opt/solr -Xss256k -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -jar start.jar -XX:OnOutOfMemoryError=/opt/solr/bin/oom_solr.sh 8983 /opt/solr/server/logs --module=http
tomcat   31681  1.1 15.2 6935996 1217192 ?     Ssl  Aug16 114:46 /usr/lib/jvm/jre/bin/java -javaagent:/usr/share/tomcat/newrelic/newrelic.jar -server -Xss1024K -Xms1G -Xmx3G -XX:MaxPermSize=512M -XX:NewSize=512m -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:CMSInitiatingOccupancyFraction=80 -Dbonita.home=/var/bonita -Dsysprop.bonita.db.vendor=mysql -Dbtm.root=/var/lib/tomcats/bonita/ -Dbitronix.tm.configuration=/var/lib/tomcats/bonita/conf/bitronix-config.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/var/lib/tomcats/bonita -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/var/lib/tomcats/bonita/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start
</pre></div>
</div>
<div class="figure">
<img alt="" src="../_images/clip_image016.jpg" />
</div>
</div>
</div>
<div class="section" id="securisation-des-donnees-sauvegarde-dr">
<h2><a class="toc-backref" href="#id30">Sécurisation des données (sauvegarde, DR,…)</a><a class="headerlink" href="#securisation-des-donnees-sauvegarde-dr" title="Permalink to this headline">¶</a></h2>
<p>La plate-forme GoFAST regroupe le contenu stratégique de l’organisation.
La sécurité des données doit s’appuyer sur une couche ‘architecture’
(RAID+SAN double ou clustering) doublée d’une stratégie
de sauvegarde.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">La sauvegarde est donc primordiale de même que les tests de
restauration</p>
</div>
<p>La question de la perte admissible doit être posée, tout comme le délai
de restauration. Ceci permet de déterminer une stratégie de sauvegarde.</p>
<p><strong>A) Sauvegarde distante de la plateforme dans son intégralité :</strong></p>
<ul class="simple">
<li>Par snapshot de VM</li>
</ul>
<p><strong>B) Sauvegarde distante des données uniquement par vacation:</strong></p>
<ul class="simple">
<li>Par sauvegarde des données applicatives</li>
<li>Par réplication totale des données sur un serveur distant (Disaster Recovery)</li>
<li>Par sauvegarde des fichiers uniquement</li>
</ul>
<p><strong>C) Sauvegarde distante des données uniquement en quasi temps-réel:</strong></p>
<p>SUR ETUDE: NOUS CONTACTER</p>
<div class="section" id="sauvegarde-par-snapshot-de-vm">
<h3><a class="toc-backref" href="#id31">Sauvegarde par snapshot de VM</a><a class="headerlink" href="#sauvegarde-par-snapshot-de-vm" title="Permalink to this headline">¶</a></h3>
<p>Dans ce cas, l’ensemble de la machine virtuelle est sauvegardée.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Il est recommandé de faire un snapshot quotidien de la VM est dehors des
heures d’activité car il y a un impact sur les
performances (entrées/sorties ou I/O). De plus afin d’assurer l’intégrité
du snapshot l’application peut devoir ‘geler’ la VM pendant un certain
temps, ceci étant dépendant des technologies utilisées.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lorsque CEO-Vision fournit l’hébergement (SaaS) auprès d’un de ses
partenaires, ce type de sauvegarde est automatiquement incluse</p>
</div>
</div>
<div class="section" id="sauvegarde-des-donnees-applicatives">
<h3><a class="toc-backref" href="#id32">Sauvegarde des données applicatives</a><a class="headerlink" href="#sauvegarde-des-donnees-applicatives" title="Permalink to this headline">¶</a></h3>
<p>Une fois par jour en fin de journée, toutes les informations nécessaires au
fonctionnement de la plate-forme GoFAST sont sauvegardées dans
<code class="docutils literal"><span class="pre">/var/backup</span></code>.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Il est fortement recommandé à l’infogérant de monter <code class="docutils literal"><span class="pre">/var/backup</span></code> sur un
stockage distant</p>
</div>
<p>Pour cela, en utilisant le mécanisme de «cron» Linux, la commande <code class="docutils literal"><span class="pre">/usr/bin/rsnapshotdaily</span></code>
est exécutée une fois par jour. Ce mécanisme
appel un script de backup crée par CEO-Vision
(<code class="docutils literal"><span class="pre">/opt/ceo-vision/backup.sh</span></code>)qui enregistre les données nécessaires dans
le dossier <code class="docutils literal"><span class="pre">/var/backup</span></code></p>
<p>Si une durée de rétention est mise en place, il est possible de retrouver
les données de 1 ou plusieurs jours auparavant dans ce dossier
<code class="docutils literal"><span class="pre">/var/backup</span></code></p>
<p>Les données sauvegardées sont les suivantes:</p>
<ul class="simple">
<li>la base MySQL drupal</li>
<li>la base MySQL alfresco</li>
<li>l’annuaire ldap</li>
<li>les fichiers de l’entrepôt documentaire</li>
<li>les sources Drupal</li>
</ul>
</div>
</div>
<div class="section" id="annexe-i-arborescence-gofast-vm1">
<h2><a class="toc-backref" href="#id33">ANNEXE I : Arborescence GoFAST (VM1)</a><a class="headerlink" href="#annexe-i-arborescence-gofast-vm1" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/opt/ceo-vision/</span></code></td>
<td>Application &amp; Scripts CEO-Vision/GoFAST</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/lib/tomcats/bonita</span></code></td>
<td rowspan="4">Applications</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/var/lib/tomcats/alfresco</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/opt/solr</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/opt/libreoffice5.3</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/backup</span></code></td>
<td>Espace de sauvegarde (openldap,alfresco, bonita,
Drupal)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/var/lib/mysql</span></code></td>
<td rowspan="4">Données des applications</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/lib/ldap</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/var/www/d7</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/alfresco</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/etc/openldap</span></code></td>
<td rowspan="8">Fichiers de configuration</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/etc/httpd</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/etc/extra/browscap.ini</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/etc/php-fpm.conf</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/etc/my.cnf</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/etc/crontab</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/etc/newrelic</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/var/lib/tomcats/alfresco/conf/tomcat_alfresco.conf</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/etc/pki/tls/private/localhost.key</span></code>
<code class="docutils literal"><span class="pre">/etc/pki/tls/certs/localhost.crt</span></code>
<code class="docutils literal"><span class="pre">/etc/pki/tls/certs/server-chain.crt</span></code></td>
<td>Certificats</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="annexe-ii-sauvegarde-par-vacations-des-donnees-sur-un-serveur-distant-disaster-recovery-minimal">
<h2><a class="toc-backref" href="#id34">ANNEXE II: Sauvegarde par vacations des données sur un serveur distant (Disaster Recovery « Minimal»)</a><a class="headerlink" href="#annexe-ii-sauvegarde-par-vacations-des-donnees-sur-un-serveur-distant-disaster-recovery-minimal" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ceci est une extension (option) de l’abonnement GoFAST, couvrant
la mise à jour d’un environnement supplémentaire.</p>
</div>
<p>Dans ce cas de DR Minimal, le principe est de remonter les sauvegardes
crées par les scripts GoFAST (voir “Sauvegarde des
données applicatives”), dans un environnement distant dit de stand-by.</p>
<p>La machine de ‘standby’ est une installation GoFAST en tant que telle.
Lors des mises à jour de l’environnement de production, l’environnement
de DR est mis à jour par CEO-Vision.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Afin de garantir l’intégrité d’Alfresco sur le DR, la date des
fichiers sauvegardés doit correspondre à la date du snapshot de la base
de données. Ceci est garantie par le script livré avec la plate-forme
GoFAST</p>
</div>
<p><strong>Cas 1) La sauvegarde à distance d’Alfresco est faite dans</strong>
<code class="docutils literal"><span class="pre">/var/backup</span></code></p>
<ul class="simple">
<li>Import de la base de données</li>
<li>Copie de /var/backup/…alfresco dans /var/alfresco</li>
<li>Chargement de la partie LDAP</li>
</ul>
<p><strong>Cas 2) La sauvegarde à distance d’Alfresco est faite directement dans
le</strong> répertoire <code class="docutils literal"><span class="pre">/var/alfresco</span></code></p>
<ul class="simple">
<li>Import de la base de données</li>
<li>Chargement de la partie LDAP</li>
</ul>
</div>
<div class="section" id="annexe-iii-duplication-distante-des-fichiers">
<h2><a class="toc-backref" href="#id35">ANNEXE III : Duplication distante des fichiers</a><a class="headerlink" href="#annexe-iii-duplication-distante-des-fichiers" title="Permalink to this headline">¶</a></h2>
<p>Il peut être souhaité de sauvegarder sur un autre serveur une simple
copie des fichiers de l’entrepôt.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Dans ce cas seul la dernière version des fichiers est sauvegardée.
Les méta-données ou commentaires ne sont pas sauvegardés</p>
</div>
<p><strong>Lecteur Réseau</strong></p>
<p>La 1ère méthode est d’utiliser un logiciel de sauvegarde sur le serveur
destiné à stocker les sauvegardes. Ce logiciel de sauvegarde doit pouvoir
sauvegarder un «lecteur réseau» ou directement un serveur Webdav. Afin
de limiter la bande passante utilisée et les ressources machines il est
préférables de faire des sauvegardes incrémentales ou différentielles.</p>
<p>Le «lecteur réseau» possède l’adresse suivante:</p>
<p><code class="docutils literal"><span class="pre">https://url_de_la_gofast/alfresco/webdav</span></code></p>
<p>par exemple :
<a class="reference external" href="https://gofast.ceo-vision.com/alfresco/webdav">https://gofast.ceo-vision.com/alfresco/webdav</a></p>
<p>Bien sûr l’identifiant doit être l’utilisateur <strong>‘adm’</strong> qui est le seul
utilisateur ayant l’accès à tous les documents de la plate-forme.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../docs-gofast-users/doc-gofast-problemes-connus.html" class="btn btn-neutral float-right" title="GoFAST : Problèmes connus" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gofast-community-install.html" class="btn btn-neutral float-left" title="GoFAST Community : Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>